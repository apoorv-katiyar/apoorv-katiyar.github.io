<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Best practices for creating reliable, maintainable continuous integration and deployment pipelines." />
  <meta name="author" content="Apoorv Katiyar" />

  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://apoorv-katiyar.github.io/posts/2024-11-28-cicd-pipelines-best-practices.html" />
  <meta property="og:title" content="Building CI/CD Pipelines That Actually Work" />
  <meta property="og:description" content="Best practices for creating reliable, maintainable continuous integration and deployment pipelines." />

  <title>Building CI/CD Pipelines That Actually Work | Apoorv Katiyar</title>

  <link rel="icon" href="../favicon.ico" type="image/x-icon" />

  <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet"
  />
  <link
    href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/icon?family=Material+Icons+Round"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="../assets/css/portfolio.css" />
  <link rel="stylesheet" href="../assets/css/markdown-features.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"
  />
</head>


<body>
    <div class="bg-gradient" aria-hidden="true"></div>
    <div class="bg-grid" aria-hidden="true"></div>

    <nav class="navbar" role="navigation" aria-label="Main navigation">
    <a href="index.html" class="nav-brand" aria-label="Apoorv Katiyar - Home">
        <span class="brand-icon" aria-hidden="true">&lt;/&gt;</span>
        <span class="brand-text">AK</span>
    </a>
    <ul class="nav-links" role="menubar">
        <li role="none"><a href="index.html" class="nav-link" role="menuitem">Home</a></li>
        <li role="none"><a href="about.html" class="nav-link" role="menuitem">About</a></li>
        <li role="none"><a href="skills.html" class="nav-link" role="menuitem">Skills</a></li>
        <li role="none"><a href="projects.html" class="nav-link" role="menuitem">Projects</a></li>
        <li role="none"><a href="achievements.html" class="nav-link" role="menuitem">Achievements</a></li>
        <li role="none"><a href="blog.html" class="nav-link" role="menuitem">Blog</a></li>
        <li role="none"><a href="contact.html" class="nav-link" role="menuitem">Contact</a></li>
    </ul>
    <div class="nav-actions">
        <button class="theme-toggle" aria-label="Toggle dark/light theme" title="Toggle dark/light mode">
            <span class="material-icons-round theme-icon-dark" aria-hidden="true">dark_mode</span>
            <span class="material-icons-round theme-icon-light" aria-hidden="true">light_mode</span>
        </button>
        <button class="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</nav>

    <main>
        <article class="blog-post page-section">
            <div class="section-header">
                <span class="section-tag" aria-hidden="true">üìù</span>
                <h1 class="section-title">Blog Post</h1>
                <div class="section-line" aria-hidden="true"></div>
            </div>

            <a href="../blog.html" class="back-link">
                <span class="material-icons-round">arrow_back</span>
                Back to All Articles
            </a>

            <div class="post-card glass-card">
                <header class="post-header">
                    <span class="blog-category">Automation</span>
                    <h2 class="post-title">Building CI/CD Pipelines That Actually Work</h2>
                    <div class="post-meta">
                        <div class="post-author">
                            <div class="author-avatar-small">
                                <span class="material-icons-round">person</span>
                            </div>
                            <span>Apoorv Katiyar</span>
                        </div>
                        <span class="meta-divider">‚Ä¢</span>
                        <time class="post-date" datetime="Thu Nov 28 2024 00:00:00 GMT+0000 (Coordinated Universal Time)">
                            <span class="material-icons-round">calendar_today</span>
                            Thu Nov 28 2024 00:00:00 GMT+0000 (Coordinated Universal Time)
                        </time>
                        <span class="meta-divider">‚Ä¢</span>
                        <span class="post-read-time">
                            <span class="material-icons-round">schedule</span>
                            8 min read
                        </span>
                    </div>
                    <div class="post-tags">
                        <span class="skill-tag">CI/CD</span>
                        <span class="skill-tag">DevOps</span>
                        <span class="skill-tag">Automation</span>
                        <span class="skill-tag">Best Practices</span>
                    </div>
                </header>

                <div class="post-body">
                    <p>After years of building and maintaining CI/CD pipelines for various organizations, I&#39;ve learned that the difference between a pipeline that &quot;works&quot; and one that truly serves your team comes down to a few key principles.</p>
<h2 id="the-problem-with-most-pipelines">The Problem with Most Pipelines</h2><p>Many CI/CD pipelines start simple but quickly become unmaintainable spaghetti. They&#39;re slow, flaky, and nobody understands how they work. Sound familiar?</p>
<h2 id="principle-1-keep-it-simple">Principle 1: Keep It Simple</h2><p>The best pipeline is the simplest one that meets your needs. Don&#39;t over-engineer from day one.</p>
<pre><code class="hljs language-yaml"><span class="hljs-comment"># Start simple - GitHub Actions example</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">CI</span>
<span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>, <span class="hljs-string">pull_request</span>]
<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">ci</span> <span class="hljs-string">&amp;&amp;</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Test</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">test</span></code></pre><h2 id="principle-2-fail-fast">Principle 2: Fail Fast</h2><p>Order your pipeline stages so the fastest checks run first. Why wait 10 minutes for a Docker build only to fail on a linting error?</p>
<ul>
<li><strong>Stage 1:</strong> Linting &amp; formatting (seconds)</li>
<li><strong>Stage 2:</strong> Unit tests (minutes)</li>
<li><strong>Stage 3:</strong> Build (minutes)</li>
<li><strong>Stage 4:</strong> Integration tests (longer)</li>
<li><strong>Stage 5:</strong> Deploy (as needed)</li>
</ul>
<h2 id="principle-3-cache-everything">Principle 3: Cache Everything</h2><p>Caching can cut your pipeline time by 50% or more. Cache:</p>
<ul>
<li>Package dependencies (npm, pip, Maven)</li>
<li>Docker layers</li>
<li>Build artifacts</li>
<li>Test fixtures</li>
</ul>
<pre><code class="hljs language-yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Cache</span> <span class="hljs-string">node</span> <span class="hljs-string">modules</span>
  <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/cache@v3</span>
  <span class="hljs-attr">with:</span>
    <span class="hljs-attr">path:</span> <span class="hljs-string">~/.npm</span>
    <span class="hljs-attr">key:</span> <span class="hljs-string">&lt;span</span> <span class="hljs-string">class=&quot;math-inline&quot;&gt;&lt;span</span> <span class="hljs-string">class=&quot;katex&quot;&gt;&lt;span</span> <span class="hljs-string">class=&quot;katex-html&quot;</span> <span class="hljs-string">aria-hidden=&quot;true&quot;&gt;&lt;span</span> <span class="hljs-string">class=&quot;base&quot;&gt;&lt;span</span> <span class="hljs-string">class=&quot;strut&quot;</span> <span class="hljs-string">style=&quot;height:0.6667em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord&quot;&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord&quot;&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord</span> <span class="hljs-string">mathnormal&quot;</span> <span class="hljs-string">style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord</span> <span class="hljs-string">mathnormal&quot;&gt;u&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord</span> <span class="hljs-string">mathnormal&quot;&gt;nn&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord</span> <span class="hljs-string">mathnormal&quot;</span> <span class="hljs-string">style=&quot;margin-right:0.02778em;&quot;&gt;er&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord</span> <span class="hljs-string">mathnormal&quot;&gt;os&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mspace&quot;</span> <span class="hljs-string">style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mbin&quot;&gt;‚àí&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mspace&quot;</span> <span class="hljs-string">style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;base&quot;&gt;&lt;span</span> <span class="hljs-string">class=&quot;strut&quot;</span> <span class="hljs-string">style=&quot;height:0.7778em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord</span> <span class="hljs-string">mathnormal&quot;&gt;n&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord</span> <span class="hljs-string">mathnormal&quot;&gt;o&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord</span> <span class="hljs-string">mathnormal&quot;&gt;d&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord</span> <span class="hljs-string">mathnormal&quot;&gt;e&lt;/span&gt;&lt;span</span> <span class="hljs-string">class=&quot;mord&quot;&gt;‚àí&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;{{</span> <span class="hljs-string">hashFiles(&#x27;**/package-lock.json&#x27;)</span> <span class="hljs-string">}}</span>
    <span class="hljs-attr">restore-keys:</span> <span class="hljs-string">|</span>
      <span class="hljs-string">${{</span> <span class="hljs-string">runner.os</span> <span class="hljs-string">}}-node-</span></code></pre><h2 id="principle-4-make-it-reproducible">Principle 4: Make It Reproducible</h2><p>Your pipeline should produce the same result every time, given the same inputs. This means:</p>
<ul>
<li>Pin your dependencies (use lock files)</li>
<li>Use specific image tags, not <code>:latest</code></li>
<li>Avoid time-dependent tests</li>
<li>Isolate your test environment</li>
</ul>
<h2 id="principle-5-security-first">Principle 5: Security First</h2><p>Integrate security scanning early:</p>
<pre><code class="hljs language-yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Run</span> <span class="hljs-string">Snyk</span> <span class="hljs-string">to</span> <span class="hljs-string">check</span> <span class="hljs-string">for</span> <span class="hljs-string">vulnerabilities</span>
  <span class="hljs-attr">uses:</span> <span class="hljs-string">snyk/actions/node@master</span>
  <span class="hljs-attr">env:</span>
    <span class="hljs-attr">SNYK_TOKEN:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.SNYK_TOKEN</span> <span class="hljs-string">}}</span>

<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">SonarQube</span> <span class="hljs-string">Scan</span>
  <span class="hljs-attr">uses:</span> <span class="hljs-string">sonarsource/sonarqube-scan-action@master</span></code></pre><h2 id="principle-6-monitor-your-pipelines">Principle 6: Monitor Your Pipelines</h2><p>Track DORA metrics to understand your pipeline health:</p>
<ul>
<li><strong>Deployment Frequency:</strong> How often do you deploy?</li>
<li><strong>Lead Time:</strong> From commit to production</li>
<li><strong>Change Failure Rate:</strong> How often do deployments fail?</li>
<li><strong>MTTR:</strong> Mean time to recover from failures</li>
</ul>
<h2 id="real-world-example">Real-World Example</h2><p>At my current role, I led a migration from GitLab CI to GitHub Actions for 12+ applications. Here&#39;s what we achieved:</p>
<ul>
<li>‚ö° 50% faster deployments</li>
<li>üìâ 80% reduction in flaky tests</li>
<li>üîÑ Reusable workflow templates across 25+ teams</li>
<li>üìä Full DORA metrics visibility</li>
</ul>
<blockquote>
<p>&quot;A good CI/CD pipeline is invisible. You notice it only when it&#39;s broken.&quot;</p>
</blockquote><h2 id="key-takeaways">Key Takeaways</h2><ol>
<li>Start simple, iterate based on actual needs</li>
<li>Optimize for developer experience</li>
<li>Cache aggressively</li>
<li>Fail fast to save time</li>
<li>Security is not optional</li>
<li>Measure everything</li>
</ol>
<p>In my next post, I&#39;ll dive deep into creating reusable GitHub Actions workflow templates. Stay tuned!</p>

                </div>

                <footer class="post-footer">
                    <div class="share-section">
                        <span class="share-label">Share this post:</span>
                        <div class="share-buttons">
                            <a href="https://twitter.com/intent/tweet?text=Building CI/CD Pipelines That Actually Work&url=https://apoorv-katiyar.github.io/posts/2024-11-28-cicd-pipelines-best-practices.html" target="_blank"
                                class="social-link" title="Share on Twitter">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://apoorv-katiyar.github.io/posts/2024-11-28-cicd-pipelines-best-practices.html" target="_blank"
                                class="social-link" title="Share on LinkedIn">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                        </div>
                    </div>
                </footer>
            </div>
        </article>
    </main>

    <footer class="footer" role="contentinfo">
    <div class="footer-content">
        <p>Designed & Built by <strong>Apoorv Katiyar</strong></p>
        <p class="footer-tech">Made with <span class="heart" aria-hidden="true">‚ô•</span> using HTML, CSS & JavaScript
        </p>
    </div>
</footer>

<button class="scroll-top" aria-label="Scroll to top">
    <span class="material-icons-round" aria-hidden="true">keyboard_arrow_up</span>
</button>

<script src="../assets/js/main.js" defer></script>
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    
    <!-- Mermaid for diagrams -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#6366f1',
                primaryTextColor: '#e2e8f0',
                primaryBorderColor: '#4f46e5',
                lineColor: '#94a3b8',
                secondaryColor: '#8b5cf6',
                tertiaryColor: '#ec4899'
            }
        });
    </script>
</body>

</html>